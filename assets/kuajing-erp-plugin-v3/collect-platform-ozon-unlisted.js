var Mt=Object.defineProperty;var It=(m,b,f)=>b in m?Mt(m,b,{enumerable:!0,configurable:!0,writable:!0,value:f}):m[b]=f;var Pe=(m,b,f)=>It(m,typeof b!="symbol"?b+"":b,f);var collectPlatformOzonUnlisted=(function(){"use strict";var Ee,Oe;var m=typeof global=="object"&&global&&global.Object===Object&&global,b=typeof self=="object"&&self&&self.Object===Object&&self,f=m||b||Function("return this")(),A=f.Symbol,W=Object.prototype,Ae=W.hasOwnProperty,$e=W.toString,_=A?A.toStringTag:void 0;function Me(e){var r=Ae.call(e,_),t=e[_];try{e[_]=void 0;var i=!0}catch{}var g=$e.call(e);return i&&(r?e[_]=t:delete e[_]),g}var Ie=Object.prototype,Ce=Ie.toString;function Ne(e){return Ce.call(e)}var De="[object Null]",Le="[object Undefined]",G=A?A.toStringTag:void 0;function x(e){return e==null?e===void 0?Le:De:G&&G in Object(e)?Me(e):Ne(e)}function C(e){return e!=null&&typeof e=="object"}var Re=Array.isArray;function X(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var ke="[object AsyncFunction]",Ue="[object Function]",Fe="[object GeneratorFunction]",Be="[object Proxy]";function H(e){if(!X(e))return!1;var r=x(e);return r==Ue||r==Fe||r==ke||r==Be}var N=f["__core-js_shared__"],q=(function(){var e=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function Ve(e){return!!q&&q in e}var ze=Function.prototype,Je=ze.toString;function w(e){if(e!=null){try{return Je.call(e)}catch{}try{return e+""}catch{}}return""}var We=/[\\^$.*+?()[\]{}|]/g,Ge=/^\[object .+?Constructor\]$/,Xe=Function.prototype,He=Object.prototype,qe=Xe.toString,Ye=He.hasOwnProperty,Ke=RegExp("^"+qe.call(Ye).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Qe(e){if(!X(e)||Ve(e))return!1;var r=H(e)?Ke:Ge;return r.test(w(e))}function Ze(e,r){return e==null?void 0:e[r]}function E(e,r){var t=Ze(e,r);return Qe(t)?t:void 0}var D=E(f,"WeakMap"),er=9007199254740991;function Y(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=er}function rr(e){return e!=null&&Y(e.length)&&!H(e)}var tr=Object.prototype;function K(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||tr;return e===t}var nr="[object Arguments]";function Q(e){return C(e)&&x(e)==nr}var Z=Object.prototype,or=Z.hasOwnProperty,ar=Z.propertyIsEnumerable,sr=Q((function(){return arguments})())?Q:function(e){return C(e)&&or.call(e,"callee")&&!ar.call(e,"callee")};function ir(){return!1}var ee=typeof exports=="object"&&exports&&!exports.nodeType&&exports,re=ee&&typeof module=="object"&&module&&!module.nodeType&&module,cr=re&&re.exports===ee,te=cr?f.Buffer:void 0,ur=te?te.isBuffer:void 0,lr=ur||ir,pr="[object Arguments]",dr="[object Array]",fr="[object Boolean]",gr="[object Date]",yr="[object Error]",br="[object Function]",mr="[object Map]",wr="[object Number]",jr="[object Object]",Tr="[object RegExp]",vr="[object Set]",hr="[object String]",_r="[object WeakMap]",xr="[object ArrayBuffer]",Er="[object DataView]",Or="[object Float32Array]",Sr="[object Float64Array]",Pr="[object Int8Array]",Ar="[object Int16Array]",$r="[object Int32Array]",Mr="[object Uint8Array]",Ir="[object Uint8ClampedArray]",Cr="[object Uint16Array]",Nr="[object Uint32Array]",s={};s[Or]=s[Sr]=s[Pr]=s[Ar]=s[$r]=s[Mr]=s[Ir]=s[Cr]=s[Nr]=!0,s[pr]=s[dr]=s[xr]=s[fr]=s[Er]=s[gr]=s[yr]=s[br]=s[mr]=s[wr]=s[jr]=s[Tr]=s[vr]=s[hr]=s[_r]=!1;function Dr(e){return C(e)&&Y(e.length)&&!!s[x(e)]}function Lr(e){return function(r){return e(r)}}var ne=typeof exports=="object"&&exports&&!exports.nodeType&&exports,O=ne&&typeof module=="object"&&module&&!module.nodeType&&module,Rr=O&&O.exports===ne,L=Rr&&m.process,oe=(function(){try{var e=O&&O.require&&O.require("util").types;return e||L&&L.binding&&L.binding("util")}catch{}})(),ae=oe&&oe.isTypedArray,kr=ae?Lr(ae):Dr;function Ur(e,r){return function(t){return e(r(t))}}var Fr=Ur(Object.keys,Object),Br=Object.prototype,Vr=Br.hasOwnProperty;function zr(e){if(!K(e))return Fr(e);var r=[];for(var t in Object(e))Vr.call(e,t)&&t!="constructor"&&r.push(t);return r}var R=E(f,"Map"),k=E(f,"DataView"),U=E(f,"Promise"),F=E(f,"Set"),se="[object Map]",Jr="[object Object]",ie="[object Promise]",ce="[object Set]",ue="[object WeakMap]",le="[object DataView]",Wr=w(k),Gr=w(R),Xr=w(U),Hr=w(F),qr=w(D),j=x;(k&&j(new k(new ArrayBuffer(1)))!=le||R&&j(new R)!=se||U&&j(U.resolve())!=ie||F&&j(new F)!=ce||D&&j(new D)!=ue)&&(j=function(e){var r=x(e),t=r==Jr?e.constructor:void 0,i=t?w(t):"";if(i)switch(i){case Wr:return le;case Gr:return se;case Xr:return ie;case Hr:return ce;case qr:return ue}return r});var Yr="[object Map]",Kr="[object Set]",Qr=Object.prototype,Zr=Qr.hasOwnProperty;function et(e){if(e==null)return!0;if(rr(e)&&(Re(e)||typeof e=="string"||typeof e.splice=="function"||lr(e)||kr(e)||sr(e)))return!e.length;var r=j(e);if(r==Yr||r==Kr)return!e.size;if(K(e))return!zr(e).length;for(var t in e)if(Zr.call(e,t))return!1;return!0}((Oe=(Ee=globalThis.browser)==null?void 0:Ee.runtime)==null?void 0:Oe.id)==null?globalThis.chrome:globalThis.browser;const rt=e=>new Promise(r=>{setTimeout(()=>{r()},e)}),tt=(e,r)=>new Promise((t,i)=>{const{count:g,interval:p=1e3}=r;let o=g;const c=async()=>{try{const a=await e();t(a)}catch(a){o&&o>0?(o--,p&&await rt(p),c()):i(a)}};c()});function h(e){let r=e.length;for(;--r>=0;)e[r]=0}const nt=3,ot=258,pe=29,at=256+1+pe,de=30,st=512,it=new Array((at+2)*2);h(it);const ct=new Array(de*2);h(ct);const ut=new Array(st);h(ut);const lt=new Array(ot-nt+1);h(lt);const pt=new Array(pe);h(pt);const dt=new Array(de);h(dt);try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{}const B=new Uint8Array(256);for(let e=0;e<256;e++)B[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;B[254]=B[254]=1;function ft(e){return e==null||typeof e=="function"?{main:e}:e}const gt=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map(e=>[e.name,e]),yt=new Map(gt);class V extends Error{constructor(t){super(V._prepareSuperMessage(t));Pe(this,"name","NonError")}static _prepareSuperMessage(t){try{return JSON.stringify(t)}catch{return String(t)}}}const bt=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1}],z=new WeakSet,mt=e=>{z.add(e);const r=e.toJSON();return z.delete(e),r},fe=e=>yt.get(e)??Error,J=({from:e,seen:r,to:t,forceEnumerable:i,maxDepth:g,depth:p,useToJSON:o,serialize:c})=>{if(!t)if(Array.isArray(e))t=[];else if(!c&&ge(e)){const n=fe(e.name);t=new n}else t={};if(r.push(e),p>=g)return t;if(o&&typeof e.toJSON=="function"&&!z.has(e))return mt(e);const a=n=>J({from:n,seen:[...r],forceEnumerable:i,maxDepth:g,depth:p,useToJSON:o,serialize:c});for(const[n,u]of Object.entries(e)){if(u&&u instanceof Uint8Array&&u.constructor.name==="Buffer"){t[n]="[object Buffer]";continue}if(u!==null&&typeof u=="object"&&typeof u.pipe=="function"){t[n]="[object Stream]";continue}if(typeof u!="function"){if(!u||typeof u!="object"){try{t[n]=u}catch{}continue}if(!r.includes(e[n])){p++,t[n]=a(e[n]);continue}t[n]="[Circular]"}}for(const{property:n,enumerable:u}of bt)typeof e[n]<"u"&&e[n]!==null&&Object.defineProperty(t,n,{value:ge(e[n])?a(e[n]):e[n],enumerable:i?!0:u,configurable:!0,writable:!0});return t};function wt(e,r={}){const{maxDepth:t=Number.POSITIVE_INFINITY,useToJSON:i=!0}=r;return typeof e=="object"&&e!==null?J({from:e,seen:[],forceEnumerable:!0,maxDepth:t,depth:0,useToJSON:i,serialize:!0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e}function jt(e,r={}){const{maxDepth:t=Number.POSITIVE_INFINITY}=r;if(e instanceof Error)return e;if(Tt(e)){const i=fe(e.name);return J({from:e,seen:[],to:new i,maxDepth:t,depth:0,serialize:!1})}return new V(e)}function ge(e){return!!e&&typeof e=="object"&&"name"in e&&"message"in e&&"stack"in e}function Tt(e){return!!e&&typeof e=="object"&&"message"in e&&!Array.isArray(e)}var vt=Object.defineProperty,ht=Object.defineProperties,_t=Object.getOwnPropertyDescriptors,ye=Object.getOwnPropertySymbols,xt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,be=(e,r,t)=>r in e?vt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,me=(e,r)=>{for(var t in r||(r={}))xt.call(r,t)&&be(e,t,r[t]);if(ye)for(var t of ye(r))Et.call(r,t)&&be(e,t,r[t]);return e},we=(e,r)=>ht(e,_t(r)),je=(e,r,t)=>new Promise((i,g)=>{var p=a=>{try{c(t.next(a))}catch(n){g(n)}},o=a=>{try{c(t.throw(a))}catch(n){g(n)}},c=a=>a.done?i(a.value):Promise.resolve(a.value).then(p,o);c((t=t.apply(e,r)).next())});function Ot(e){let r,t={};function i(){Object.entries(t).length===0&&(r==null||r(),r=void 0)}let g=Math.floor(Math.random()*1e4);function p(){return g++}return{sendMessage(o,c,...a){return je(this,null,function*(){var n,u,l,S;const P={id:p(),type:o,data:c,timestamp:Date.now()},v=(u=yield(n=e.verifyMessageData)==null?void 0:n.call(e,P))!=null?u:P;(l=e.logger)==null||l.debug(`[messaging] sendMessage {id=${v.id}} ─ᐅ`,v,...a);const I=yield e.sendMessage(v,...a),{res:d,err:y}=I??{err:new Error("No response")};if((S=e.logger)==null||S.debug(`[messaging] sendMessage {id=${v.id}} ᐊ─`,{res:d,err:y}),y!=null)throw jt(y);return d})},onMessage(o,c){var a,n,u;if(r==null&&((a=e.logger)==null||a.debug(`[messaging] "${o}" initialized the message listener for this context`),r=e.addRootListener(l=>{var S,P;if(typeof l.type!="string"||typeof l.timestamp!="number"){if(e.breakError)return;const d=Error(`[messaging] Unknown message format, must include the 'type' & 'timestamp' fields, received: ${JSON.stringify(l)}`);throw(S=e.logger)==null||S.error(d),d}(P=e==null?void 0:e.logger)==null||P.debug("[messaging] Received message",l);const v=t[l.type];if(v==null)return;const I=v(l);return Promise.resolve(I).then(d=>{var y,Se;return(Se=(y=e.verifyMessageData)==null?void 0:y.call(e,d))!=null?Se:d}).then(d=>{var y;return(y=e==null?void 0:e.logger)==null||y.debug(`[messaging] onMessage {id=${l.id}} ─ᐅ`,{res:d}),{res:d}}).catch(d=>{var y;return(y=e==null?void 0:e.logger)==null||y.debug(`[messaging] onMessage {id=${l.id}} ─ᐅ`,{err:d}),{err:wt(d)}})})),t[o]!=null){const l=Error(`[messaging] In this JS context, only one listener can be setup for ${o}`);throw(n=e.logger)==null||n.error(l),l}return t[o]=c,(u=e.logger)==null||u.log(`[messaging] Added listener for ${o}`),()=>{delete t[o],i()}},removeAllListeners(){Object.keys(t).forEach(o=>{delete t[o]}),i()}}}for(var T=256,Te=[],ve=256,$;T--;)Te[T]=(T+256).toString(16).substring(1);function St(e){var r=0,t=11;if(!$||T+t>ve*2)for($="",T=0;r<ve;r++)$+=Te[Math.random()*256|0];return $.substring(T,T+++t)}var he="@webext-core/messaging/window",_e="@webext-core/messaging/window/response";function Pt(e){const r=e.namespace,t=St();let i=[];const g=(o,c)=>new Promise(a=>{const n=l=>{l.data.type===_e&&l.data.namespace===r&&l.data.instanceId!==t&&l.data.message.type===o.type&&(a(l.data.response),u())},u=()=>window.removeEventListener("message",n);i.push(u),window.addEventListener("message",n),window.postMessage({type:he,message:o,senderOrigin:location.origin,namespace:r,instanceId:t},c??"*")}),p=Ot(we(me({},e),{sendMessage(o,c){return g(o,c)},addRootListener(o){const c=a=>je(this,null,function*(){if(a.data.type!==he||a.data.namespace!==r||a.data.instanceId===t)return;const n=yield o(a.data.message);window.postMessage({type:_e,response:n,instanceId:t,message:a.data.message,namespace:r},a.data.senderOrigin)});return window.addEventListener("message",c),()=>window.removeEventListener("message",c)},verifyMessageData(o){return structuredClone(o)}}));return we(me({},p),{removeAllListeners(){p.removeAllListeners(),i.forEach(o=>o()),i=[]}})}const xe=Pt({namespace:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}),At=ft({main(){const e=async()=>{try{await tt(()=>{const r=window.__NUXT__||{};return et(r)?Promise.reject():Promise.resolve()},{count:5,interval:1e3})}finally{xe.sendMessage("sendModuleData",window.__NUXT__)}};xe.onMessage("getModuleData",e)}});function Nt(){}function M(e,...r){}const $t={debug:(...e)=>M(console.debug,...e),log:(...e)=>M(console.log,...e),warn:(...e)=>M(console.warn,...e),error:(...e)=>M(console.error,...e)};return(async()=>{try{return await At.main()}catch(e){throw $t.error('The unlisted script "collect-platform-ozon-unlisted" crashed on startup!',e),e}})()})();
collectPlatformOzonUnlisted;